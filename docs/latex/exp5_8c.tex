\doxysection{src/exp5.c File Reference}
\hypertarget{exp5_8c}{}\label{exp5_8c}\index{src/exp5.c@{src/exp5.c}}


Implementation of the Producer-\/\+Consumer Problem using Semaphores.  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{exp5_8c_a5707b25e46a5abb6a19f65efb29d0afb}{wait}} (int \texorpdfstring{$\ast$}{*}S)
\begin{DoxyCompactList}\small\item\em Simulates the "{}\+Wait"{} operation on a semaphore. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{exp5_8c_ab0e81db30a7e34ebf661f6602c852110}{sem\+\_\+signal}} (int \texorpdfstring{$\ast$}{*}S)
\begin{DoxyCompactList}\small\item\em Simulates the "{}\+Signal"{} operation on a semaphore. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{exp5_8c_a1fe91292d7d5e00d35744a41f5cf98a0}{producer}} ()
\begin{DoxyCompactList}\small\item\em Producer function. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{exp5_8c_a34fcd32bc19052117fcca6360468d032}{consumer}} ()
\begin{DoxyCompactList}\small\item\em Consumer function. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{exp5_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}{main}} ()
\begin{DoxyCompactList}\small\item\em Main function for the Producer-\/\+Consumer simulation. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{exp5_8c_a8002f660436446f6416afe25f5c393ca}{mutex}} = 1
\item 
int \mbox{\hyperlink{exp5_8c_a3a0e8c0939ab76b5866a0bbad1d338e6}{full}} = 0
\item 
int \mbox{\hyperlink{exp5_8c_a7d076984670ab0600048b27ffb9ccdc3}{empty}} = 3
\item 
int \mbox{\hyperlink{exp5_8c_a6150e0515f7202e2fb518f7206ed97dc}{x}} = 0
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Implementation of the Producer-\/\+Consumer Problem using Semaphores. 

This program demonstrates process synchronization using semaphores to implement the producer-\/consumer problem. It ensures mutual exclusion using a binary semaphore and maintains buffer state with counting semaphores.

\begin{DoxyAuthor}{Author}
Ajas Daison 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2025 
\end{DoxyDate}


Definition in file \mbox{\hyperlink{exp5_8c_source}{exp5.\+c}}.



\doxysubsection{Function Documentation}
\Hypertarget{exp5_8c_a34fcd32bc19052117fcca6360468d032}\index{exp5.c@{exp5.c}!consumer@{consumer}}
\index{consumer@{consumer}!exp5.c@{exp5.c}}
\doxysubsubsection{\texorpdfstring{consumer()}{consumer()}}
{\footnotesize\ttfamily \label{exp5_8c_a34fcd32bc19052117fcca6360468d032} 
void consumer (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Consumer function. 

Consumes an item from the buffer if available. Uses semaphores to ensure mutual exclusion and proper buffer management. \texorpdfstring{$<$}{<} Lock the mutex

\texorpdfstring{$<$}{<} Decrease full buffer count

\texorpdfstring{$<$}{<} Increase empty buffer count

\texorpdfstring{$<$}{<} Consume an item

\texorpdfstring{$<$}{<} Unlock the mutex

Definition at line \mbox{\hyperlink{exp5_8c_source_l00068}{68}} of file \mbox{\hyperlink{exp5_8c_source}{exp5.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00069\ \ \ \mbox{\hyperlink{exp5_8c_a8002f660436446f6416afe25f5c393ca}{mutex}}\ =\ \mbox{\hyperlink{exp5_8c_a5707b25e46a5abb6a19f65efb29d0afb}{wait}}(\&\mbox{\hyperlink{exp5_8c_a8002f660436446f6416afe25f5c393ca}{mutex}});\ \ \ \ \ \ \ }
\DoxyCodeLine{00070\ \ \ \mbox{\hyperlink{exp5_8c_a3a0e8c0939ab76b5866a0bbad1d338e6}{full}}\ =\ \mbox{\hyperlink{exp5_8c_a5707b25e46a5abb6a19f65efb29d0afb}{wait}}(\&\mbox{\hyperlink{exp5_8c_a3a0e8c0939ab76b5866a0bbad1d338e6}{full}});\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00071\ \ \ \mbox{\hyperlink{exp5_8c_a7d076984670ab0600048b27ffb9ccdc3}{empty}}\ =\ \mbox{\hyperlink{exp5_8c_ab0e81db30a7e34ebf661f6602c852110}{sem\_signal}}(\&\mbox{\hyperlink{exp5_8c_a7d076984670ab0600048b27ffb9ccdc3}{empty}});\ }
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ printf(\textcolor{stringliteral}{"{}\(\backslash\)nConsumer\ consumes\ item\ \%d"{}},\ \mbox{\hyperlink{exp5_8c_a6150e0515f7202e2fb518f7206ed97dc}{x}});}
\DoxyCodeLine{00074\ \ \ \mbox{\hyperlink{exp5_8c_a6150e0515f7202e2fb518f7206ed97dc}{x}}-\/-\/;\ }
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \mbox{\hyperlink{exp5_8c_a8002f660436446f6416afe25f5c393ca}{mutex}}\ =\ \mbox{\hyperlink{exp5_8c_ab0e81db30a7e34ebf661f6602c852110}{sem\_signal}}(\&\mbox{\hyperlink{exp5_8c_a8002f660436446f6416afe25f5c393ca}{mutex}});\ }
\DoxyCodeLine{00077\ \}}

\end{DoxyCode}
\Hypertarget{exp5_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}\index{exp5.c@{exp5.c}!main@{main}}
\index{main@{main}!exp5.c@{exp5.c}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily \label{exp5_8c_ae66f6b31b5ad750f1fe042a706a4e3d4} 
int main (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Main function for the Producer-\/\+Consumer simulation. 

Provides a menu-\/driven interface to allow the user to act as a producer or consumer.

\begin{DoxyReturn}{Returns}
int Returns 0 on successful execution. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{exp5_8c_source_l00087}{87}} of file \mbox{\hyperlink{exp5_8c_source}{exp5.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00088\ \ \ \textcolor{keywordtype}{int}\ n;}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ printf(\textcolor{stringliteral}{"{}\(\backslash\)n1.\ Producer\(\backslash\)n2.\ Consumer\(\backslash\)n3.\ Exit"{}});}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \ \textcolor{keywordflow}{while}\ (1)\ \{}
\DoxyCodeLine{00093\ \ \ \ \ printf(\textcolor{stringliteral}{"{}\(\backslash\)nEnter\ your\ choice:\ "{}});}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keywordflow}{if}\ (scanf(\textcolor{stringliteral}{"{}\%d"{}},\ \&n)\ !=\ 1)\ \{}
\DoxyCodeLine{00095\ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}\(\backslash\)nInvalid\ input!\ Exiting...\(\backslash\)n"{}});}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00097\ \ \ \ \ \}}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keywordflow}{switch}\ (n)\ \{}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keywordflow}{case}\ 1:}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{exp5_8c_a8002f660436446f6416afe25f5c393ca}{mutex}}\ ==\ 1)\ \&\&\ (\mbox{\hyperlink{exp5_8c_a7d076984670ab0600048b27ffb9ccdc3}{empty}}\ !=\ 0))}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{exp5_8c_a1fe91292d7d5e00d35744a41f5cf98a0}{producer}}();}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}\(\backslash\)nBuffer\ is\ full!!"{}});}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{keywordflow}{case}\ 2:}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{exp5_8c_a8002f660436446f6416afe25f5c393ca}{mutex}}\ ==\ 1)\ \&\&\ (\mbox{\hyperlink{exp5_8c_a3a0e8c0939ab76b5866a0bbad1d338e6}{full}}\ !=\ 0))}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{exp5_8c_a34fcd32bc19052117fcca6360468d032}{consumer}}();}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}\(\backslash\)nBuffer\ is\ empty!!"{}});}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{keywordflow}{case}\ 3:}
\DoxyCodeLine{00115\ \ \ \ \ \ \ exit(0);}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00118\ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}\(\backslash\)nInvalid\ choice!\ Exiting...\(\backslash\)n"{}});}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00120\ \ \ \ \ \}}
\DoxyCodeLine{00121\ \ \ \}}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00124\ \}}

\end{DoxyCode}
\Hypertarget{exp5_8c_a1fe91292d7d5e00d35744a41f5cf98a0}\index{exp5.c@{exp5.c}!producer@{producer}}
\index{producer@{producer}!exp5.c@{exp5.c}}
\doxysubsubsection{\texorpdfstring{producer()}{producer()}}
{\footnotesize\ttfamily \label{exp5_8c_a1fe91292d7d5e00d35744a41f5cf98a0} 
void producer (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Producer function. 

Produces an item and adds it to the buffer if space is available. Utilizes semaphores to ensure mutual exclusion and maintain buffer states. \texorpdfstring{$<$}{<} Lock the mutex

\texorpdfstring{$<$}{<} Increase full buffer count

\texorpdfstring{$<$}{<} Decrease empty buffer count

\texorpdfstring{$<$}{<} Produce an item

\texorpdfstring{$<$}{<} Unlock the mutex

Definition at line \mbox{\hyperlink{exp5_8c_source_l00051}{51}} of file \mbox{\hyperlink{exp5_8c_source}{exp5.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00052\ \ \ \mbox{\hyperlink{exp5_8c_a8002f660436446f6416afe25f5c393ca}{mutex}}\ =\ \mbox{\hyperlink{exp5_8c_a5707b25e46a5abb6a19f65efb29d0afb}{wait}}(\&\mbox{\hyperlink{exp5_8c_a8002f660436446f6416afe25f5c393ca}{mutex}});\ \ \ \ \ }
\DoxyCodeLine{00053\ \ \ \mbox{\hyperlink{exp5_8c_a3a0e8c0939ab76b5866a0bbad1d338e6}{full}}\ =\ \mbox{\hyperlink{exp5_8c_ab0e81db30a7e34ebf661f6602c852110}{sem\_signal}}(\&\mbox{\hyperlink{exp5_8c_a3a0e8c0939ab76b5866a0bbad1d338e6}{full}});\ }
\DoxyCodeLine{00054\ \ \ \mbox{\hyperlink{exp5_8c_a7d076984670ab0600048b27ffb9ccdc3}{empty}}\ =\ \mbox{\hyperlink{exp5_8c_a5707b25e46a5abb6a19f65efb29d0afb}{wait}}(\&\mbox{\hyperlink{exp5_8c_a7d076984670ab0600048b27ffb9ccdc3}{empty}});\ \ \ \ \ }
\DoxyCodeLine{00055\ \ \ \mbox{\hyperlink{exp5_8c_a6150e0515f7202e2fb518f7206ed97dc}{x}}++;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ printf(\textcolor{stringliteral}{"{}\(\backslash\)nProducer\ produces\ item\ \%d"{}},\ \mbox{\hyperlink{exp5_8c_a6150e0515f7202e2fb518f7206ed97dc}{x}});}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \mbox{\hyperlink{exp5_8c_a8002f660436446f6416afe25f5c393ca}{mutex}}\ =\ \mbox{\hyperlink{exp5_8c_ab0e81db30a7e34ebf661f6602c852110}{sem\_signal}}(\&\mbox{\hyperlink{exp5_8c_a8002f660436446f6416afe25f5c393ca}{mutex}});\ }
\DoxyCodeLine{00060\ \}}

\end{DoxyCode}
\Hypertarget{exp5_8c_ab0e81db30a7e34ebf661f6602c852110}\index{exp5.c@{exp5.c}!sem\_signal@{sem\_signal}}
\index{sem\_signal@{sem\_signal}!exp5.c@{exp5.c}}
\doxysubsubsection{\texorpdfstring{sem\_signal()}{sem\_signal()}}
{\footnotesize\ttfamily \label{exp5_8c_ab0e81db30a7e34ebf661f6602c852110} 
int sem\+\_\+signal (\begin{DoxyParamCaption}\item[{int \texorpdfstring{$\ast$}{*}}]{S}{}\end{DoxyParamCaption})}



Simulates the "{}\+Signal"{} operation on a semaphore. 

Increments the semaphore value, signaling resource availability.


\begin{DoxyParams}{Parameters}
{\em S} & Pointer to the semaphore variable. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Updated semaphore value after incrementing. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{exp5_8c_source_l00043}{43}} of file \mbox{\hyperlink{exp5_8c_source}{exp5.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00043\ \{\ \textcolor{keywordflow}{return}\ ++(*S);\ \}}

\end{DoxyCode}
\Hypertarget{exp5_8c_a5707b25e46a5abb6a19f65efb29d0afb}\index{exp5.c@{exp5.c}!wait@{wait}}
\index{wait@{wait}!exp5.c@{exp5.c}}
\doxysubsubsection{\texorpdfstring{wait()}{wait()}}
{\footnotesize\ttfamily \label{exp5_8c_a5707b25e46a5abb6a19f65efb29d0afb} 
int wait (\begin{DoxyParamCaption}\item[{int \texorpdfstring{$\ast$}{*}}]{S}{}\end{DoxyParamCaption})}



Simulates the "{}\+Wait"{} operation on a semaphore. 

Decrements the semaphore value, blocking if the value is non-\/positive.


\begin{DoxyParams}{Parameters}
{\em S} & Pointer to the semaphore variable. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Updated semaphore value after decrementing. 
\end{DoxyReturn}
\texorpdfstring{$<$}{<} Busy waiting if S \texorpdfstring{$<$}{<}= 0

Definition at line \mbox{\hyperlink{exp5_8c_source_l00029}{29}} of file \mbox{\hyperlink{exp5_8c_source}{exp5.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00030\ \ \ \textcolor{keywordflow}{while}\ (*S\ <=\ 0)}
\DoxyCodeLine{00031\ \ \ \ \ ;\ }
\DoxyCodeLine{00032\ \ \ \textcolor{keywordflow}{return}\ -\/-\/(*S);}
\DoxyCodeLine{00033\ \}}

\end{DoxyCode}


\doxysubsection{Variable Documentation}
\Hypertarget{exp5_8c_a7d076984670ab0600048b27ffb9ccdc3}\index{exp5.c@{exp5.c}!empty@{empty}}
\index{empty@{empty}!exp5.c@{exp5.c}}
\doxysubsubsection{\texorpdfstring{empty}{empty}}
{\footnotesize\ttfamily \label{exp5_8c_a7d076984670ab0600048b27ffb9ccdc3} 
int empty = 3}

Counting semaphore for empty buffer slots 

Definition at line \mbox{\hyperlink{exp5_8c_source_l00018}{18}} of file \mbox{\hyperlink{exp5_8c_source}{exp5.\+c}}.

\Hypertarget{exp5_8c_a3a0e8c0939ab76b5866a0bbad1d338e6}\index{exp5.c@{exp5.c}!full@{full}}
\index{full@{full}!exp5.c@{exp5.c}}
\doxysubsubsection{\texorpdfstring{full}{full}}
{\footnotesize\ttfamily \label{exp5_8c_a3a0e8c0939ab76b5866a0bbad1d338e6} 
int full = 0}

Counting semaphore for full buffer slots 

Definition at line \mbox{\hyperlink{exp5_8c_source_l00017}{17}} of file \mbox{\hyperlink{exp5_8c_source}{exp5.\+c}}.

\Hypertarget{exp5_8c_a8002f660436446f6416afe25f5c393ca}\index{exp5.c@{exp5.c}!mutex@{mutex}}
\index{mutex@{mutex}!exp5.c@{exp5.c}}
\doxysubsubsection{\texorpdfstring{mutex}{mutex}}
{\footnotesize\ttfamily \label{exp5_8c_a8002f660436446f6416afe25f5c393ca} 
int mutex = 1}

Binary semaphore for mutual exclusion 

Definition at line \mbox{\hyperlink{exp5_8c_source_l00016}{16}} of file \mbox{\hyperlink{exp5_8c_source}{exp5.\+c}}.

\Hypertarget{exp5_8c_a6150e0515f7202e2fb518f7206ed97dc}\index{exp5.c@{exp5.c}!x@{x}}
\index{x@{x}!exp5.c@{exp5.c}}
\doxysubsubsection{\texorpdfstring{x}{x}}
{\footnotesize\ttfamily \label{exp5_8c_a6150e0515f7202e2fb518f7206ed97dc} 
int x = 0}

Shared buffer item count 

Definition at line \mbox{\hyperlink{exp5_8c_source_l00019}{19}} of file \mbox{\hyperlink{exp5_8c_source}{exp5.\+c}}.

